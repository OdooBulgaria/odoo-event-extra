<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <report string="Participants" id="action_report_participants" model="event.event" report_type="qweb-pdf" name="event_participant.report_participant" file="event_participant.report_participant" />
    <template id="report_participant">
      <t t-call="report.html_container">
        <t t-foreach="docs" t-as="o">
          <t t-call="report.external_layout">
            <div class="page">
                
                
              <div class="row">
              <h2>
                  <span t-field="o.name" /> - 
                  (<span t-field="o.type" />)
                </h2>
                  <span t-field="o.date_begin" />
                  <span t-field="o.date_end" />
                  <div t-if="o.course_leader">
                      Cource leader: <spin t-field="o.course_leader"/>
                  </div>
                  State <span t-field="o.state"/>
                  <br />
                  <br />
              </div>

<!--
              <div class="row">
                <div class="col-xs-4 pull-right" t-field="o.name" />
              </div>
              <div class="row">
                <div class="col-xs-6">
                  <div t-if="o.address_id" name="partner_header">
                    <div t-field="o.address_id" t-field-options='{"widget": "contact", "fields": ["address", "name", "phone", "fax"], "no_marker": true}' />
                  </div>
                </div>
              </div>
-->
              <div class="row">
                <table class="table table-condensed">
                  <thead>
                    <tr>
                      <th>
                        <strong>Name</strong>
                      </th>
                      <th>
                        <strong>Partner</strong>
                      </th>
                      <th>
                        <strong>City</strong>
                      </th>
                      <th>
                        <strong>Mobile</strong>
                      </th>
                      <th>
                        <strong>Phone</strong>
                      </th>
                      <th>
                        <strong>E-mail</strong>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr t-foreach="o.participant_ids" t-as="part">
                      <td>
                        <span t-field="part.partner_id.name" />
                      </td>
                      <td>
                        <span t-field="part.partner_id.parent_id.name" />
                      </td>
                      <td>
                        <span t-field="part.partner_id.parent_id.city" />
                      </td>
                      <td>
                        <span t-field="part.partner_id.mobile" />
                      </td>
                      <td>
                        <span t-field="part.partner_id.phone" t-if="part.partner_id.phone" />
                        <span t-field="part.partner_id.parent_id.phone" t-if="not part.partner_id.phone" />
                      </td>
                      <td>
                        <span t-field="part.partner_id.email" t-if="part.partner_id.email" />
                        <span t-field="part.partner_id.parent_id.email" t-if="not part.partner_id.email" />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div> <!-- page -->
          </t>
        </t>
      </t>
    </template>
  </data>
</openerp>